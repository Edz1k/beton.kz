<script setup lang="ts">
import { useTelegram } from '~/composables/useTelegramApi'

const username = ref('')
const phone = ref('')

const { sendMessage } = useTelegram()

function handleSend() {
  if (!username.value.trim() || !phone.value.trim())
    return

  const message = `ğŸ“ Ğ—Ğ°ÑĞ²ĞºĞ°\nğŸ‘¤ Ğ˜Ğ¼Ñ: ${username.value}\nğŸ“ Ğ¢ĞµĞ»ĞµÑ„Ğ¾Ğ½: ${phone.value}`
  sendMessage(message)
  username.value = ''
  phone.value = ''
}
</script>

<template>
  <div class="space-y-4">
    <UsernameInput v-model="username" />
    <PhoneInput v-model="phone" />
    <button
      class="text-white px-6 py-3 rounded-lg bg-main shadow-md transition-all hover:opacity-90"
      @click="handleSend"
    >
      ĞÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ·Ğ°ÑĞ²ĞºÑƒ
    </button>
  </div>
</template>
