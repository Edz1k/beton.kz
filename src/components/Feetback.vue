<script setup lang="ts">
import { useTelegram } from '~/composables/useTelegramApi'

const username = ref('')
const phone = ref('')

const { sendMessage } = useTelegram()

function handleSend() {
  if (!username.value.trim() || !phone.value.trim())
    return

  const message = `ğŸ“ Ğ—Ğ°ÑĞ²ĞºĞ°\nğŸ‘¤ Ğ˜Ğ¼Ñ: ${username.value}\nğŸ“ Ğ¢ĞµĞ»ĞµÑ„Ğ¾Ğ½: ${phone.value}`
  sendMessage(message)
  username.value = ''
  phone.value = ''
}
</script>

<template>
  <div class="space-y-4" aria-label="Ğ¤Ğ¾Ñ€Ğ¼Ğ° Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ğ¾Ğ¹ ÑĞ²ÑĞ·Ğ¸ MG Ğ‘ĞµÑ‚Ğ¾Ğ½">
    <UsernameInput v-model="username" aria-label="Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ²Ğ°ÑˆĞµ Ğ¸Ğ¼Ñ" />
    <PhoneInput v-model="phone" aria-label="Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ²Ğ°Ñˆ Ğ½Ğ¾Ğ¼ĞµÑ€ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ğ°" />
    <button
      class="text-white px-6 py-3 rounded-lg bg-main shadow-md transition-all hover:opacity-90"
      aria-label="ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ·Ğ°ÑĞ²ĞºÑƒ"
      @click="handleSend"
    >
      ĞÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ·Ğ°ÑĞ²ĞºÑƒ
    </button>
  </div>
</template>
